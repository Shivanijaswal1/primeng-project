
<app-layout (addStudent)="show()" ></app-layout>

<div class="dashboard-container" [class.dark-mode]="isDarkMode">
  <main class="main-content">

  <ng-container *ngIf="showSubmittedStudents; else dashboardView">
  <app-submitted-student-detail></app-submitted-student-detail>
</ng-container>
        <ng-template #dashboardView>
    <header class="header">
      <input type="text" placeholder="Search..." class="search" (input)="onSearch($event)" />

      <div class="header-actions">
        <i class="pi" [ngClass]="isDarkMode ? 'pi-sun' : 'pi-moon'" (click)="toggleTheme()"></i>
        <div class="dropdown" (click)="toggleNotifications()">
          <i class="pi pi-bell"></i>
          <div class="dropdown-menu" *ngIf="showNotifications">
            <p *ngIf="notifications.length === 0">No notifications</p>
            <p *ngFor="let n of notifications">{{ n }}</p>
          </div>
        </div>

        <div class="dropdown profile" (click)="toggleProfile()">
          <img src="https://i.pravatar.cc/40" alt="profile"/>
          <span class="name">Mr. Thakur</span>
          <div class="dropdown-menu" *ngIf="showProfileMenu">
            <p (click)="goToSettings()">‚öôÔ∏è Settings</p>
            <p (click)="logout()">üö™ Logout</p>
          </div>
        </div>
      </div>
    </header>
  <section class="quick-actions">
  <p-card *ngFor="let action of quickActions"
          header="{{action.icon}} {{action.label}}"
          (click)="action.action()">
  </p-card>
</section>

    <section class="content-body">
      <div class="welcome-box">
        <h2>üëã Welcome back</h2>
        <p>Here‚Äôs a quick summary of today‚Äôs activity.</p>
      </div>

      <div class="stats-cards">
        <p-card>
          <h3>Total Students</h3>
          <h2>{{ students.length }}</h2>
        </p-card>
        <p-card>
          <h3>Today‚Äôs Attendance</h3>
          <h2>{{ todaysAttendance }}%</h2>
        </p-card>

        <p-card>
          <h3>Pending Assignments</h3>
          <h2>{{ pendingAssignments }}</h2>
        </p-card>

        <p-card>
          <h3>Upcoming Classes</h3>
          <h2>{{ upcomingClasses }}</h2>
        </p-card>
      </div>
      <div class="charts-section">
        <p-card header="üìä Attendance Trend">
          <p-chart type="line" [data]="attendanceData"></p-chart>
        </p-card>

        <p-card header="üìà Student Performance">
<app-india-choropleth [stateData]="stateData"></app-india-choropleth>


        </p-card>
      </div>

      <div class="activities">
        <p-card header="üìù Recent Activities">
          <ul>
            <li *ngFor="let activity of recentActivities"> {{ activity }} </li>
          </ul>
        </p-card>
      </div>
      <div class="task-board">
        <p-card header="üìå Task Board">
          <p-table [value]="taskItems">
            <ng-template pTemplate="header">
              <tr>
                <th *ngFor="let col of taskColumns">{{ col.header }}</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData>
              <tr>
                <td *ngFor="let col of taskColumns">
                  {{ rowData[col.field] }}
                </td>
              </tr>
            </ng-template>
          </p-table>
        </p-card>
      </div>
</section>
        </ng-template>
  </main>

</div>
